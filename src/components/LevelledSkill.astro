---
import type { LevelledSkill } from '@/types/content'

import Icon from './Icon.astro'
import SkillLevel from './SkillLevel.astro'
import Typography from './Typography.astro'

export interface Props extends LevelledSkill {}

const { url, icon, iconColor, name, level, description } = Astro.props

const IconWrapper = url ? 'a' : 'div'
---

<div class="flex flex-col gap-2">
  <div class="flex h-5 items-center justify-between">
    <IconWrapper
      class="flex h-5 gap-2"
      {...url && { href: url, target: '_blank', rel: 'noopener noreferrer' }}
    >
      {icon && <Icon name={icon} color={iconColor} size={20} />}
      <Typography variant="skill">{name}</Typography>
    </IconWrapper>
    {
      description && (
        <div
          class="flex size-3.5"
          data-tooltip={description}
          data-tooltip-placement="top"
        >
          <Icon name="fa6-solid:circle-info" color="#D1D5DB" size={14} />
        </div>
      )
    }
  </div>
  <SkillLevel skillLevel={level} />
</div>
